# Alpha Panda Environment Configuration Example
# Copy this file to .env and customize for your environment

# Application
APP_NAME=Alpha Panda
ENVIRONMENT=development
LOG_LEVEL=INFO
ACTIVE_BROKERS=paper,zerodha

# Database
DATABASE__POSTGRES_URL=postgresql+asyncpg://username:password@localhost:5432/alpha_panda
DATABASE__SCHEMA_MANAGEMENT=auto
DATABASE__VERIFY_MIGRATIONS=true

# Redpanda/Kafka
REDPANDA__BOOTSTRAP_SERVERS=localhost:9092
REDPANDA__CLIENT_ID=alpha-panda-client
REDPANDA__GROUP_ID_PREFIX=alpha-panda

# Redis
REDIS__URL=redis://localhost:6379/0

# Authentication
AUTH__SECRET_KEY=your-secret-key-change-in-production
AUTH__ALGORITHM=HS256
AUTH__ACCESS_TOKEN_EXPIRE_MINUTES=30

# API Security (CORS)
API__CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://127.0.0.1:3000"]
API__CORS_CREDENTIALS=true
API__CORS_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
API__CORS_HEADERS=["Authorization", "Content-Type", "X-Request-ID"]

# Zerodha Configuration
ZERODHA__ENABLED=true
ZERODHA__API_KEY=your_zerodha_api_key
ZERODHA__API_SECRET=your_zerodha_api_secret

# Paper Trading Configuration
PAPER_TRADING__ENABLED=true
PAPER_TRADING__SLIPPAGE_PERCENT=0.05
PAPER_TRADING__COMMISSION_PERCENT=0.1

# Logging Configuration
LOGGING__JSON_FORMAT=true
LOGGING__CONSOLE_JSON_FORMAT=true
LOGGING__MULTI_CHANNEL_ENABLED=true
LOGGING__FILE_ENABLED=true
LOGGING__LOGS_DIR=logs

# Monitoring Configuration
MONITORING__HEALTH_CHECK_ENABLED=true
MONITORING__HEALTH_CHECK_INTERVAL=30.0
MONITORING__PIPELINE_FLOW_MONITORING_ENABLED=true
MONITORING__CONSUMER_LAG_THRESHOLD=1000
MONITORING__MARKET_DATA_LATENCY_THRESHOLD=1.0

# Tracing (OpenTelemetry)
# Enable to export traces from producers/consumers and key services
TRACING__ENABLED=false
TRACING__EXPORTER=none        # none|otlp
TRACING__OTLP_ENDPOINT=http://localhost:4317
TRACING__SAMPLING_RATIO=1.0

# Optional: Kafka producer tuning (JSON). Configure per-service tuning without code changes.
# Example: Slightly lower linger and zstd compression for market_feed
# PRODUCER_TUNING={"market_feed": {"linger_ms": 2, "compression_type": "zstd"}}

# Development Notes:
# - For development: Use Zerodha authentication as primary
# - For production: Set AUTH__ENABLE_USER_AUTH=true and AUTH__PRIMARY_AUTH_PROVIDER=user
# - Change AUTH__SECRET_KEY to a secure random string in production
# - Use strong passwords for database in production
# - Consider using environment-specific values for LOG_LEVEL
# - Set ACTIVE_BROKERS=zerodha for zerodha-only trading or ACTIVE_BROKERS=paper,zerodha for both
# - Monitoring thresholds can be adjusted based on your trading requirements
